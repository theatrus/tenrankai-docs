{% assign page_title = "Features" %}
{% assign meta_description = "Explore the comprehensive features of Tenrankai - from intelligent image processing to multi-gallery support and advanced caching." %}
{% include "_header.html.liquid" %}

<div class="container">
    <h2>Features</h2>
    
    <section class="features-intro">
        <p>Tenrankai is packed with features designed to make hosting and managing photo galleries a breeze. Whether you're a photographer showcasing your portfolio or an organization managing multiple image collections, Tenrankai has you covered.</p>
        <div class="feature-highlight" style="background-color: #f0f8ff; padding: 1rem; margin-top: 1rem; border-radius: 8px; border-left: 4px solid #0066cc;">
            <p><strong>üéâ New in Latest Release:</strong> Enhanced metadata system with XMP support, gallery filters, click-to-zoom loupe, React frontend, flexible image indexing, and much more! Tenrankai now supports professional photography workflows with user comments, picks, and tags.</p>
        </div>
    </section>

    <section class="feature-category">
        <h3>üìÇ File-Based Architecture</h3>
        
        <div class="feature-detail">
            <h4>No Database Required</h4>
            <p>Tenrankai operates entirely on files and folders - no database setup or maintenance:</p>
            <ul>
                <li>Drop images in folders to create galleries</li>
                <li>Add markdown files for descriptions and captions</li>
                <li>Write blog posts as simple markdown files</li>
                <li>Configuration is just a TOML file</li>
                <li>Everything is human-readable and version-control friendly</li>
                <li><strong>Permissions in config:</strong> Define access rules right in your TOML</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>SyncThing Integration</h4>
            <p>Perfect for distributed workflows with <a href="https://syncthing.net/" target="_blank" rel="noopener">SyncThing</a>:</p>
            <ul>
                <li>Edit your gallery on any device</li>
                <li>Changes sync automatically to your server</li>
                <li>No deployment process - just save and sync</li>
                <li>Keep multiple servers in sync effortlessly</li>
                <li>Works with any file synchronization tool</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Simple Deployment</h4>
            <p>Since everything is files, deployment is straightforward:</p>
            <ul>
                <li>Copy files to server - you're done!</li>
                <li>Use rsync, SyncThing, Dropbox, or git</li>
                <li>No database migrations or schema updates</li>
                <li>Easy backup - just copy the folders</li>
                <li>Portable between servers</li>
                <li>Docker support with official images</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>üñºÔ∏è Gallery Management</h3>
        
        <div class="feature-detail">
            <h4>Multiple Independent Galleries</h4>
            <p>Run unlimited galleries from a single Tenrankai instance, each with:</p>
            <ul>
                <li>Custom URL prefixes (e.g., /portfolio, /family, /projects)</li>
                <li>Independent source directories and cache locations</li>
                <li>Per-gallery configuration for image quality and sizes</li>
                <li>Custom templates for unique gallery experiences</li>
                <li><strong>Gallery-specific permissions:</strong> Different access rules per gallery</li>
                <li><strong>Individual copyright holders:</strong> Different watermarks per gallery</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Responsive Masonry Layout</h4>
            <p>Beautiful, mobile-friendly gallery layouts that adapt to any screen size:</p>
            <ul>
                <li>Automatic column adjustment based on viewport</li>
                <li>Smooth animations and transitions</li>
                <li>Touch-friendly navigation on mobile devices</li>
                <li>Optimized for both portrait and landscape orientations</li>
                <li><strong>Metadata badges:</strong> ‚úì (picks), ‚òÖ (highlights), üí¨ (comments)</li>
                <li><strong>Filter bar:</strong> Persistent URL-based filtering</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Folder Organization</h4>
            <p>Organize photos hierarchically with full support for nested folders:</p>
            <ul>
                <li>Automatic breadcrumb navigation</li>
                <li>Folder descriptions via markdown files</li>
                <li>Hidden folders for private collections</li>
                <li>Custom folder titles and metadata</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>üì∏ Image Processing</h3>
        
        <div class="feature-detail">
            <h4>Automatic Resizing</h4>
            <p>Generate multiple image sizes automatically:</p>
            <ul>
                <li><strong>Thumbnail:</strong> Small previews for gallery grids</li>
                <li><strong>Gallery:</strong> Standard viewing size</li>
                <li><strong>Medium:</strong> Larger size with optional watermarking</li>
                <li><strong>Large:</strong> Full quality (authentication required)</li>
                <li>@2x variants for all sizes (retina display support)</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Format Optimization</h4>
            <p>Intelligent format selection for optimal performance:</p>
            <ul>
                <li><strong>Full AVIF support:</strong> HDR preservation and gain maps</li>
                <li>Automatic WebP conversion for supported browsers</li>
                <li>JPEG fallback for maximum compatibility</li>
                <li>PNG support with transparency preservation</li>
                <li>Configurable quality settings per format</li>
                <li>Content negotiation based on Accept headers</li>
                <li>Smart format selection based on browser capabilities</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Color Profile Preservation</h4>
            <p>Full support for professional color management:</p>
            <ul>
                <li>ICC profile extraction and preservation</li>
                <li>Display P3 and Adobe RGB support</li>
                <li>Color profiles maintained through watermarking</li>
                <li>Both JPEG and WebP profile embedding</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Enhanced Metadata System</h4>
            <p>Multi-source metadata with priority cascade:</p>
            <ul>
                <li><strong>Markdown frontmatter:</strong> Override any metadata with TOML</li>
                <li><strong>XMP sidecar files:</strong> Adobe Lightroom compatible</li>
                <li><strong>EXIF extraction:</strong> Camera, lens, GPS, settings</li>
                <li><strong>Astronomy support:</strong> Telescope, mount, exposure hours</li>
                <li><strong>Custom fields:</strong> Tags, descriptions, additional details</li>
                <li><strong>Priority order:</strong> Markdown > XMP > EXIF</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>‚ö° Performance & Caching</h3>
        
        <div class="feature-detail">
            <h4>Intelligent Caching System</h4>
            <p>Multi-level caching for lightning-fast performance:</p>
            <ul>
                <li>In-memory metadata cache with persistence</li>
                <li>Processed image cache on disk</li>
                <li>Automatic cache refresh in background</li>
                <li>Version-based cache invalidation</li>
                <li>Configurable cache directories per gallery</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Concurrent Processing</h4>
            <p>Blazing-fast image processing:</p>
            <ul>
                <li>Parallel image processing with rate limiting</li>
                <li>Non-blocking background tasks</li>
                <li>Async I/O throughout the application</li>
                <li>Efficient memory usage with streaming</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Pre-generation Options</h4>
            <p>Configurable cache pre-generation for instant loading:</p>
            <ul>
                <li><strong>Parallel processing:</strong> Uses all CPU cores for fast generation</li>
                <li><strong>Selective formats:</strong> Choose which formats (JPEG, WebP, AVIF)</li>
                <li><strong>Selective sizes:</strong> Choose which sizes (thumbnail, gallery, medium, large)</li>
                <li><strong>Tile pre-generation:</strong> Pre-build tiles for enhanced zoom</li>
                <li><strong>Incremental:</strong> Only generates missing cache entries</li>
                <li><strong>Graceful cancellation:</strong> Clean shutdown on Ctrl+C</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>üìù Content Management</h3>
        
        <div class="feature-detail">
            <h4>Markdown Support</h4>
            <p>Rich content with simple markdown files:</p>
            <ul>
                <li>Folder descriptions with _folder.md</li>
                <li>Image captions with [imagename].md</li>
                <li>TOML frontmatter for metadata</li>
                <li>Full CommonMark support</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Built-in Blog System</h4>
            <p>Multiple markdown-based blog systems:</p>
            <ul>
                <li>TOML frontmatter for post metadata</li>
                <li>Automatic HTML generation</li>
                <li>Chronological sorting and pagination</li>
                <li>Subdirectory organization</li>
                <li>Gallery image embedding support</li>
                <li>Automatic reload on file changes</li>
                <li><strong>Permission-aware:</strong> Posts visibility based on user roles</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Dynamic Content Updates</h4>
            <p>Keep content fresh without restarts:</p>
            <ul>
                <li>API endpoints for content refresh</li>
                <li>Automatic periodic refresh options</li>
                <li>Hot-reload for development</li>
                <li>Individual file update detection</li>
                <li><strong>Permission-protected refresh:</strong> Only admins can trigger updates</li>
            </ul>
        </div>
        
        <div class="feature-detail new-feature-highlight">
            <h4>üéâ Interactive Features <span class="new-feature">NEW</span></h4>
            <p>Enhanced user interaction capabilities:</p>
            <ul>
                <li><strong>Two-Level Zoom:</strong> Basic loupe (1.8x) and tile-based high-res zoom</li>
                <li><strong>User Metadata Storage:</strong> Comments, picks, highlights, tags in .toml sidecars</li>
                <li><strong>Area-Specific Comments:</strong> Select and comment on specific parts of images</li>
                <li><strong>Gallery Filters:</strong> Filter by picks, rejects, highlights, comments</li>
                <li><strong>Permission-based interaction:</strong> Fine-grained control over features</li>
                <li><strong>Collaborative workflows:</strong> Multiple users can comment and organize</li>
                <li><strong>React Frontend:</strong> Modern SPA with swipe navigation on mobile</li>
                <li><strong>Image Protection:</strong> Harder to save images via right-click</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>üë• Collaboration & Feedback</h3>
        
        <div class="feature-detail">
            <h4>Area-Specific Comments <span class="new-feature">NEW</span></h4>
            <p>Provide precise feedback by commenting on specific parts of images:</p>
            <ul>
                <li><strong>Visual Selection:</strong> Click and drag to select rectangular areas</li>
                <li><strong>Mobile Friendly:</strong> Touch gestures supported on tablets and phones</li>
                <li><strong>Context Preservation:</strong> Areas remain highlighted when viewing comments</li>
                <li><strong>Edit Support:</strong> Add, change, or remove areas when editing comments</li>
                <li><strong>Responsive Display:</strong> Percentage-based coordinates adapt to any screen size</li>
                <li><strong>Visual Previews:</strong> See highlighted areas in comment threads</li>
            </ul>
        </div>
        
        <div class="feature-detail">
            <h4>Use Cases for Area Comments</h4>
            <p>Perfect for professional workflows and collaboration:</p>
            <ul>
                <li><strong>Client Feedback:</strong> "Please adjust the lighting in this corner"</li>
                <li><strong>Photo Critique:</strong> Point out composition elements or technical issues</li>
                <li><strong>Quality Control:</strong> Mark blemishes, dust spots, or areas needing retouching</li>
                <li><strong>Education:</strong> Highlight examples of good technique or areas for improvement</li>
                <li><strong>Collaborative Editing:</strong> Discuss specific elements without ambiguity</li>
                <li><strong>Event Photography:</strong> Identify people or important details in group shots</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>üîí Security & Permissions</h3>
        
        <div class="feature-detail">
            <h4>Role-Based Access Control (RBAC)</h4>
            <p>Fine-grained permissions system with over 20 different permissions:</p>
            <ul>
                <li><strong>Viewing permissions:</strong> Control basic image viewing and folder browsing</li>
                <li><strong>Privacy permissions:</strong> Show/hide dates, location, and technical details</li>
                <li><strong>Download permissions:</strong> Control access to different image sizes</li>
                <li><strong>Interactive permissions:</strong> <span class="new-feature">NEW</span> Enable zoom and metadata reading</li>
                <li><strong>Content management:</strong> Comments, picks, and tags with user-level control</li>
                <li><strong>Custom roles:</strong> Create roles tailored to your needs</li>
                <li><strong>Per-gallery settings:</strong> Different permissions for each gallery</li>
                <li><strong>Folder-level overrides:</strong> Fine-tune access within galleries</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Copyright Watermarking</h4>
            <p>Protect your images with intelligent watermarking:</p>
            <ul>
                <li>Automatic text color selection based on background</li>
                <li>Configurable watermark text and positioning</li>
                <li>Applied only to medium-sized images</li>
                <li>Preserves image quality and color profiles</li>
                <li><strong>Per-gallery copyright holders:</strong> Different watermarks for different galleries</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Modern Authentication</h4>
            <p>Secure, user-friendly authentication system:</p>
            <ul>
                <li><strong>WebAuthn/Passkey support:</strong> Biometric login on phones and computers</li>
                <li><strong>Hardware security keys:</strong> YubiKey and FIDO2 device support</li>
                <li><strong>Passwordless email login:</strong> Simple magic link authentication</li>
                <li><strong>Session management:</strong> Secure cookies with configurable expiry</li>
                <li><strong>Rate limiting:</strong> Protection against brute force attacks</li>
                <li><strong>User management CLI:</strong> Easy user and role administration</li>
                <li><strong>Permission-aware UI:</strong> Features automatically show/hide based on permissions</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Privacy Protection</h4>
            <p>Multiple layers of privacy control:</p>
            <ul>
                <li><strong>Date Privacy:</strong> Show only month/year to viewers without permissions</li>
                <li><strong>Location Privacy:</strong> Hide GPS coordinates based on user roles</li>
                <li><strong>Technical Details:</strong> Hide camera/lens info per folder</li>
                <li><strong>URL Privacy:</strong> Three indexing modes (filename, sequence, unique_id)</li>
                <li><strong>Non-guessable URLs:</strong> 6-character base36 IDs prevent enumeration</li>
                <li><strong>Per-gallery privacy:</strong> Different settings for each gallery</li>
                <li><strong>Folder-level control:</strong> Override gallery settings per folder</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>üê≥ Deployment Options</h3>
        
        <div class="feature-detail">
            <h4>Docker Support</h4>
            <p>Official Docker images for easy containerized deployment:</p>
            <ul>
                <li>Optimized multi-stage builds (~168 MB)</li>
                <li>Security hardening with non-root user</li>
                <li>Environment variable configuration</li>
                <li>Docker Compose examples included</li>
                <li>Kubernetes-ready with health checks</li>
                <li>Support for Docker Swarm deployments</li>
            </ul>
        </div>
        
        <div class="feature-detail">
            <h4>Traditional Deployment</h4>
            <p>Deploy directly on any Linux server:</p>
            <ul>
                <li>Single static binary - no runtime dependencies</li>
                <li>Systemd service examples provided</li>
                <li>Nginx and Apache reverse proxy configurations</li>
                <li>Built-in Let's Encrypt support via proxy</li>
                <li>Resource-efficient - runs on minimal VPS</li>
            </ul>
        </div>
    </section>

    <section class="feature-category">
        <h3>üõ†Ô∏è Developer Features</h3>
        
        <div class="feature-detail">
            <h4>Template System</h4>
            <p>Flexible Liquid templating engine:</p>
            <ul>
                <li>Customizable gallery and image templates</li>
                <li>Reusable partial components</li>
                <li>Per-gallery template configuration</li>
                <li>Full Liquid syntax support</li>
                <li>Automatic cache-busting with asset_url filter</li>
            </ul>
        </div>
        
        <div class="feature-detail">
            <h4>Cascading Static Directories</h4>
            <p>Advanced asset management with precedence:</p>
            <ul>
                <li>Multiple static directories with override support</li>
                <li>Theme customization without modifying defaults</li>
                <li>Perfect for A/B testing and seasonal themes</li>
                <li>Automatic file version tracking</li>
                <li>Cache-busting for all static assets</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>RESTful API</h4>
            <p>Comprehensive API endpoints:</p>
            <ul>
                <li>Gallery preview and metadata</li>
                <li>Image serving with size parameters</li>
                <li>Content refresh triggers</li>
                <li>Health check endpoints</li>
                <li><strong>Permission-aware API:</strong> Responses filtered by user roles</li>
                <li><strong>User metadata API:</strong> Comment and pick management</li>
                <li><strong>Filter API:</strong> Query parameters for metadata filtering</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>Monitoring & Logging</h4>
            <p>Production-ready observability:</p>
            <ul>
                <li>Structured logging with configurable levels</li>
                <li>HTTP access logs with latency tracking</li>
                <li>Error tracking and reporting</li>
                <li>Performance metrics</li>
            </ul>
        </div>

        <div class="feature-detail">
            <h4>CLI Tools</h4>
            <p>Powerful command-line utilities:</p>
            <ul>
                <li><strong>User management:</strong> add, list, update, remove users</li>
                <li><strong>Cache management:</strong> report coverage, cleanup outdated files</li>
                <li><strong>AVIF debugging:</strong> Analyze AVIF metadata and color properties</li>
                <li><strong>Server control:</strong> Auto-shutdown for testing</li>
                <li><strong>Configuration:</strong> Override settings via CLI flags</li>
            </ul>
        </div>
    </section>

    <section class="cta-section">
        <h3>Ready to Experience These Features?</h3>
        <p>Get started with Tenrankai today and build your perfect gallery.</p>
        <div class="cta-actions">
            <a href="/docs" class="btn btn-primary">Read the Documentation</a>
            <a href="https://github.com/theatrus/tenrankai" class="btn btn-secondary" target="_blank" rel="noopener noreferrer">View Source Code</a>
        </div>
    </section>
</div>

{% include "_footer.html.liquid" %}